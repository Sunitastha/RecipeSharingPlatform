!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3d647c57-7b98-416f-86c1-301a1567c033",e._sentryDebugIdIdentifier="sentry-dbid-3d647c57-7b98-416f-86c1-301a1567c033")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5175],{10785:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="ellipsis",i=["ellipsis-h"],n="f141",l="M432 256a48 48 0 1 1 -96 0 48 48 0 1 1 96 0zm-160 0a48 48 0 1 1 -96 0 48 48 0 1 1 96 0zM64 304a48 48 0 1 1 0-96 48 48 0 1 1 0 96z";t.definition={prefix:"far",iconName:s,icon:[448,512,i,n,l]},t.faEllipsis=t.definition,t.prefix="far",t.iconName=s,t.width=448,t.height=512,t.ligatures=i,t.unicode=n,t.svgPathData=l,t.aliases=i},34957:function(e,t){"use strict";t.DF={prefix:"far",iconName:"layer-plus",icon:[576,512,["layer-group-plus"],"f5ff","M464 4c-11 0-20 9-20 20V60H408c-11 0-20 9-20 20s9 20 20 20h36v36c0 11 9 20 20 20s20-9 20-20V100h36c11 0 20-9 20-20s-9-20-20-20H484V24c0-11-9-20-20-20zM288 128c-8.5 0-17 1.7-24.8 5.1L53.9 222.8C40.6 228.5 32 241.5 32 256s8.6 27.5 21.9 33.2l209.3 89.7c7.8 3.4 16.3 5.1 24.8 5.1s17-1.7 24.8-5.1l209.3-89.7c13.3-5.7 21.9-18.8 21.9-33.2s-8.6-27.5-21.9-33.2L312.8 133.1c-7.8-3.4-16.3-5.1-24.8-5.1zm-5.9 49.2c1.9-.8 3.9-1.2 5.9-1.2s4 .4 5.9 1.2L477.7 256 293.9 334.8c-1.9 .8-3.9 1.2-5.9 1.2s-4-.4-5.9-1.2L98.3 256l183.8-78.8zM85.1 337.4L53.9 350.8C40.6 356.5 32 369.5 32 384s8.6 27.5 21.9 33.2l209.3 89.7c7.8 3.4 16.3 5.1 24.8 5.1s17-1.7 24.8-5.1l209.3-89.7c13.3-5.7 21.9-18.8 21.9-33.2s-8.6-27.5-21.9-33.2l-31.2-13.4L430 363.5 477.7 384 293.9 462.8c-1.9 .8-3.9 1.2-5.9 1.2s-4-.4-5.9-1.2L98.3 384 146 363.5 85.1 337.4z"]},t.Oq=t.DF},93181:function(e,t){"use strict";t.DF={prefix:"far",iconName:"line-columns",icon:[512,512,[],"f870","M24 40H200c13.3 0 24 10.7 24 24s-10.7 24-24 24H24C10.7 88 0 77.3 0 64S10.7 40 24 40zm0 128H200c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24s10.7-24 24-24zM0 320c0-13.3 10.7-24 24-24H200c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24zM24 424H200c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24s10.7-24 24-24zM288 192c0-13.3 10.7-24 24-24H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H312c-13.3 0-24-10.7-24-24zM312 40H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H312c-13.3 0-24-10.7-24-24s10.7-24 24-24zM288 320c0-13.3 10.7-24 24-24H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H312c-13.3 0-24-10.7-24-24zm24 104H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H312c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},t.Jm=t.DF},50882:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="pen-to-square",i=["edit"],n="f044",l="M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z";t.definition={prefix:"far",iconName:s,icon:[512,512,i,n,l]},t.faPenToSquare=t.definition,t.prefix="far",t.iconName=s,t.width=512,t.height=512,t.ligatures=i,t.unicode=n,t.svgPathData=l,t.aliases=i},62050:function(e){function t(e,t,s){function i(){var o=Date.now()-r;o<t&&o>=0?n=setTimeout(i,t-o):(n=null,s||(c=e.apply(a,l),a=l=null))}null==t&&(t=100);var n,l,a,r,c,o=function(){a=this,l=arguments,r=Date.now();var o=s&&!n;return n||(n=setTimeout(i,t)),o&&(c=e.apply(a,l),a=l=null),c};return o.clear=function(){n&&(clearTimeout(n),n=null)},o.flush=function(){n&&(c=e.apply(a,l),a=l=null,clearTimeout(n),n=null)},o}t.debounce=t,e.exports=t},5171:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/library",function(){return s(54630)}])},34817:function(e,t,s){"use strict";var i=s(97458),n=s(82129),l=s(76961),a=s(52983),r=s(1804),c=s(31237),o=s(50882),d=s(71870),u=s(73297),m=s(72157),x=s(28023),h=s(3011),f=s(99577);t.Z=e=>{var t,s,v;let{showAvatar:p,showCreatorLabel:g,showEdit:j,isCurrentUser:b=!0,textColor:y,textVariant:N="smallBold",username:w,image:C,anon:k,avatarSize:P="small"}=e,{data:Z,update:z}=(0,l.useSession)(),[S,L]=a.useState(!1),[E,_]=a.useState(null!=w?w:b?null==Z?void 0:null===(t=Z.user)||void 0===t?void 0:t.username:"Anonymous"),[M,T]=a.useState(),{isMobileUserAgent:I}=(0,d.d)(),H=(0,r.useTranslations)("settings.account"),O=async()=>fetch("/api/user",{method:"PUT",body:JSON.stringify({username:E})}),{mutate:D,isLoading:A}=(0,n.D)(O,{onSuccess:e=>{e.json().then(t=>{if(200!==e.status){T(t.message);return}L(!1),T(void 0),z()})}});(0,a.useEffect)(()=>{var e;_(null!=w?w:b?null==Z?void 0:null===(e=Z.user)||void 0===e?void 0:e.username:"Anonymous")},[w,b,null==Z?void 0:null===(s=Z.user)||void 0===s?void 0:s.username]);let R="@perplexity-bot@"===E;return(0,i.jsxs)("div",{className:"relative flex items-center gap-x-xs",children:[p&&(0,i.jsx)(c.Z,{size:P,anon:k,user:R?"/static/images/bot.png":null!=C?C:b&&null!==(v=null==Z?void 0:Z.user.image)&&void 0!==v?v:void 0}),S?(0,i.jsx)("div",{children:(0,i.jsx)(u.ZP,{isMobileUserAgent:I,value:E,disabled:A,errorText:null!=M?M:""===E?"Username cannot be empty":"",onChange:e=>{_(e.target.value)},className:"md:min-w-[300px]",inlineEditBlock:Z&&(0,i.jsxs)("div",{className:"ml-sm flex items-center gap-x-xs",children:[(0,i.jsx)(m.Z,{text:H("save"),variant:E===Z.user.username||""===E||A?"common":"primary",size:"small",disabled:E===Z.user.username||""===E||A,onClick:()=>D()}),(0,i.jsx)(m.Z,{text:H("cancel"),size:"small",disabled:A,onClick:()=>{_(Z.user.username),L(!1)}})]})})}):(0,i.jsx)(x.Z,{variant:N,color:y,className:"break-all line-clamp-1",children:k?"Anonymous":R?"Perplexity Bot":E}),g&&(0,i.jsx)(h.ZP,{variant:"offset",className:"rounded-full px-sm py-xs",children:(0,i.jsx)(x.Z,{variant:"tiny",color:"light",children:"Author"})}),j&&!S&&(0,i.jsx)(f.Z,{pill:!0,size:"small",icon:o.faPenToSquare,onClick:()=>L(!0)})]})}},54630:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return ev},default:function(){return ep}});var i=s(97458),n=s(52983),l=s(1804),a=s(64194),r=s(76961),c=s(59842),o=s(6814),d=s(69153),u=s.n(d),m=s(31237),x=s(20634),h=s(86535),f=s(49551),v=s(62711),p=s(849),g=s(16510),j=s(3011),b=s(18389),y=s(28023),N=s(56425),w=s(71263);let C=e=>{let{collection:t,testId:s}=e,{ownerUser:n,contributorUsers:l}=(0,g.gO)(t),r=t.thread_count+t.page_count,c=(0,x.k)(),o=()=>{var e;return(0,i.jsxs)(j.ZP,{className:"group relative pr-sm pt-sm",variant:"background",children:[(0,i.jsx)(j.ZP,{className:"absolute top-0 right-0 bottom-sm left-sm rounded-xl opacity-50 transition-all duration-200 group-hover:!bg-super",variant:"offsetPlus"}),(0,i.jsx)(j.ZP,{className:"absolute inset-xs rounded-lg ring-2 !ring-background transition-all dark:!ring-backgroundDark",variant:"offset"}),(0,i.jsxs)(j.ZP,{variant:"offset",bgHover:"offsetPlus",className:"relative cursor-pointer rounded-md  p-md ring-2 !ring-background dark:!ring-backgroundDark",children:[(0,i.jsx)("div",{className:"flex items-center justify-between",children:(0,i.jsxs)("div",{className:"flex items-center gap-x-sm",children:[t.emoji&&"None"!==t.emoji&&(0,i.jsx)("div",{className:"-mt-xs",children:(0,i.jsx)(f.B,{unified:null!==(e=t.emoji)&&void 0!==e?e:b.$Y,size:"small"})}),(0,i.jsx)(y.Z,{testId:"collection-preview-title",variant:"baseSemi",className:"line-clamp-2",children:t.title})]})}),(0,i.jsxs)("div",{className:"mt-sm flex items-center justify-between gap-x-md",children:[(0,i.jsxs)("div",{className:"flex min-w-0 items-center gap-x-md",children:[t.access===N.uv.PRIVATE_READ&&(0,i.jsx)(y.Z,{variant:"tiny",color:"light",children:(0,i.jsx)(a.G,{icon:p.by})}),(0,i.jsxs)("div",{className:"flex items-center gap-x-xs",children:[(0,i.jsx)(y.Z,{variant:"tiny",color:"light",children:(0,i.jsx)(a.G,{icon:v.Kr})}),(0,i.jsx)(y.Z,{variant:"tiny",color:"light",children:r>0?r>=99?"99+":r:0})]}),(0,i.jsx)("div",{className:"flex min-w-0 items-center gap-x-xs",children:(0,i.jsx)(y.Z,{variant:"tiny",color:"light",className:"overflow-hidden",children:(0,i.jsx)(w.Z,{timestamp:t.updated_datetime,layoutType:"bottom",translations:c})})})]}),(0,i.jsxs)(h.Z,{size:"small",showMore:!1,children:[null!=n&&(0,i.jsx)(m.Z,{size:"small",user:n.image}),l.map((e,t)=>(0,i.jsx)(m.Z,{size:"small",user:e.image},e.image))]})]})]})]})};return t.slug?(0,i.jsx)(u(),{"data-testid":s,href:"/collections/".concat(t.slug),className:"block",children:(0,i.jsx)(o,{})}):(0,i.jsx)(o,{})};var k=s(19456),P=s(37506),Z=s(28964),z=s(10785),S=s(16816),L=s(93181),E=s(22438),_=s(80937),M=s(39300),T=s(33326),I=s(71870),H=s(5768),O=s(73297),D=s(28278),A=s(51865),R=s.n(A);let B=e=>{let{handleOpenCollectionCreateEditModal:t,handleOpenQuickAsk:s,tabType:n,setTabType:a,setDeleteAllModalOpen:r,setSearchTermInput:c,loading:o,searchTermInput:d}=e,u=(0,l.useTranslations)("threads.main"),m=(0,l.useTranslations)("shared"),{isMobileStyle:x,isMobileUserAgent:h}=(0,I.d)(),{allowArticleCreation:f}=(0,Z.v)(),p=[{icon:z.faEllipsis,visible:x,items:[{text:u("tooltipDeleteThreads"),icon:T.$,onClick:()=>r(!0)}]},{text:u("tooltipCreateCollectionTitle"),icon:_.r8,variant:"primary",visible:x,items:[{text:u("tooltipCreateThread"),icon:L.Jm,onClick:s},{text:u("tooltipCreateCollection"),icon:v.Kr,onClick:t}]}];return(0,i.jsxs)(j.ZP,{variant:"background",className:R()("sticky top-0 z-[15]",{"w-[100vw]":x}),children:[(0,i.jsx)(H.Z,{title:u("mainTitle"),icon:M.G1,center:"lg",isMobileStyle:x,actionList:p,search:(0,i.jsx)(O.ZP,{isMobileUserAgent:h,type:"search",value:d,placeholder:u("searchPlaceholder"),autoFocus:!1,onChange:e=>{c(e.target.value)},isLoading:o})}),(0,i.jsx)(j.ZP,{className:"h-14 border-b md:hidden",children:(0,i.jsx)(D.n,{fillSpace:!0,layout:"center",allowScroll:!0,tabClass:"!px-sm",actionList:[{icon:v.Kr,text:m("threads"),show:!0,active:"threads"===n,onClick:()=>{a("threads")}},{icon:E.Oe,text:m("articles"),active:"articles"===n,show:f,onClick:()=>{a("articles")}},{icon:S.wx,text:m("collections"),active:"collections"===n,show:!0,onClick:()=>{a("collections")}}]})})]})};var F=s(68058),G=s(13417),W=s(72898);let V=()=>{let e=(0,W.nO)(),{data:t,isLoading:s}=(0,G.a)({enabled:!!e,queryKey:["fetch_invited_collections"],queryFn:()=>null==e?void 0:e.emitWithAck("fetch_invited_collections",{})});return{isLoading:s,invitedCollections:t}};var q=s(10478),K=s(69914),U=s(86520),$=s(88682),X=s(51004),Y=s(16644),J=s(33979),Q=s(20667),ee=s(61454),et=s(17748);let es=(e,t)=>{var s;return e&&(null===(s=e[0])||void 0===s?void 0:s.has_next_page)?t.length+1:void 0},ei=()=>{var e,t,s,i,n,l,a;let{searchTerm:r}=(0,Q.p)(),c=(0,et.Z)("list_ask_articles",U.O_,!!r,es,{search_term:r}),o=null!==(l=null===(t=c.data)||void 0===t?void 0:null===(e=t.pageParams)||void 0===e?void 0:e.length)&&void 0!==l?l:1,d=null!==(a=null===(s=c.data)||void 0===s?void 0:s.pages)&&void 0!==a?a:[],u=d.flat(),m=null===(n=d[d.length-1])||void 0===n?void 0:null===(i=n[0])||void 0===i?void 0:i.has_next_page;return{...c,data:u,paginationInfo:{currentPage:o,hasNextPage:m,hasPreviousPage:o>1,getNextPage:()=>c.fetchNextPage(),getPreviousPage:()=>c.fetchPreviousPage()}}};var en=s(19951);let el=e=>{let{}=e,t=(0,n.useRef)(void 0),s=ei(),{searchTerm:l}=(0,Q.p)(),a=s.data,r=(0,n.useCallback)(()=>{s.paginationInfo.hasNextPage&&!s.isLoading&&s.paginationInfo.getNextPage()},[s]),c=t.current===l&&s.isLoading||"fetching"===s.fetchStatus,o=!s.isLoading&&"idle"===s.fetchStatus;return(0,i.jsx)(en.f,{articles:a,hasNextPage:s.paginationInfo.hasNextPage,showLoadingState:c,showEmptyState:o,fetchNextPage:r})};var ea=s(57247);let er=e=>{let{}=e,t=(0,n.useRef)(void 0),s=(0,U.Qk)(),{searchTerm:l}=(0,Q.p)(),a=s.data,r=(0,n.useCallback)(()=>{s.paginationInfo.hasNextPage&&!s.isLoading&&s.paginationInfo.getNextPage()},[s]),c=t.current===l&&s.isLoading||"fetching"===s.fetchStatus,o=!s.isLoading&&"idle"===s.fetchStatus;return(0,i.jsx)(ea.B,{threads:a,type:ea.W.LIBRARY,hasNextPage:s.paginationInfo.hasNextPage,showLoadingState:c,showEmptyState:o,fetchNextPage:r})};var ec=s(43119),eo=s(99577),ed=s(72157),eu=s(11389),em=s(77837),ex=s.n(em);let eh=e=>{let{title:t,icon:s,onClick:n}=e;return(0,i.jsx)(j.ZP,{variant:"transparent",bgHover:"offset",className:"relative flex flex-1 cursor-pointer items-center justify-center rounded border p-md py-sm",onClick:n,children:(0,i.jsxs)(y.Z,{className:"flex w-full items-center gap-sm",variant:"baseSemi",children:[(0,i.jsx)(a.G,{icon:s}),t,(0,i.jsx)("span",{className:"flex-1"}),(0,i.jsx)("span",{className:"text-super dark:text-superDuper",children:(0,i.jsx)(a.G,{icon:_.r8})})]})})};var ef=()=>{let[e,t]=(0,n.useState)(!1),[s,a]=(0,n.useState)("threads"),[d,u]=(0,n.useState)(""),[m,x]=(0,n.useState)(!1),{searchTerm:h,updateUserInput:f}=(0,Q.p)(),{isMobileStyle:p}=(0,I.d)(),{isIncognito:g}=(0,Y.Y)(),b=(0,o.useRouter)(),{data:w}=(0,r.useSession)(),{allowArticleCreation:L}=(0,Z.v)(),M=(0,U.Qk)(),{collections:O}=(0,q.l)(),{invitedCollections:A}=V(),{deleteAllThreads:R}=(0,K.l)(),{openModal:G}=(0,J.X)(),{trackEvent:W}=(0,$.WS)(),et=(0,n.useCallback)(()=>{W("new thread click on threads page",{}),G("quickSearchModal",null)},[W,G]),es=(0,l.useTranslations)("threads.main"),ei=(0,l.useTranslations)("shared"),en=(0,l.useTranslations)("article"),ea=(0,X.lG)(),{acceptCollectionInvite:em,declineCollectionInvite:ef}=(0,F.a)(),ev=(0,n.useCallback)(()=>{w?G("collectionCreateOrEdit",{frontendContextUUID:void 0,existingCollection:null,searchTerm:h}):G("loginModal",{origin:N.FM.COLLECTIONS})},[G,h,w]),ep=(0,n.useCallback)(()=>{x(!1),R()},[R]),eg=(0,n.useCallback)(ex()((e,t)=>{(""!==e||void 0!==t)&&f({searchTerm:e})},200,{leading:!0,trailing:!0,maxWait:600}),[]);(0,n.useEffect)(()=>{eg(d,h)},[d]),(0,n.useEffect)(()=>{M.isSuccess&&t(!0)},[M.isSuccess]);let ej=[{text:ei("threads"),show:!0,active:"threads"===s,onClick:()=>{a("threads")}},{text:ei("articles"),active:"articles"===s,show:L,onClick:()=>{a("articles")}}],eb=(0,n.useCallback)(e=>{ea?b.push("/page/new"):G("loginModal",{pitchMessage:{title:en("loginPrompt",{page:"Page"})},origin:N.FM.ARTICLE_NEW}),e.preventDefault()},[b,G,en,ea]),[ey,{height:eN}]=(0,c.Z)();return g?(0,i.jsx)(k.Z,{}):(0,i.jsxs)(P.L.Content,{childrenWidth:"large",mobileHeader:!1,header:(0,i.jsx)(B,{searchTermInput:d,setSearchTermInput:u,tabType:s,setTabType:a,handleOpenQuickAsk:et,setDeleteAllModalOpen:x,loading:M.isLoading&&e,handleOpenCollectionCreateEditModal:ev}),children:[(0,i.jsxs)("div",{className:"grid-cols-12 gap-xl md:grid ",children:[(0,i.jsxs)("div",{className:"col-span-8 md:mt-lg",children:[(0,i.jsxs)("div",{className:"hidden md:block",children:[L&&(0,i.jsxs)("div",{className:"flex gap-md pb-md",ref:ey,children:[(0,i.jsx)(eh,{title:ei("thread"),icon:v.Kr,onClick:et}),(0,i.jsx)(eh,{title:ei("article"),icon:E.Oe,onClick:eb}),(0,i.jsx)(eh,{title:ei("collection"),icon:S.wx,onClick:ev})]}),L?(0,i.jsxs)(j.ZP,{className:"flex items-center justify-between border-b",children:[(0,i.jsx)(D.n,{layout:"left",actionList:ej}),(0,i.jsx)("div",{className:"flex items-center gap-x-sm",children:"threads"===s?(0,i.jsx)(ec.G,{isMobileStyle:p,items:[{icon:T.$,show:!0,text:es("tooltipDeleteThreads"),onClick:()=>x(!0)}],children:(0,i.jsx)(eo.Z,{size:"small",icon:z.faEllipsis})}):null})]}):(0,i.jsx)(H.Z,{icon:v.Kr,title:ei("threads"),variant:"section",isMobileStyle:p,actionList:[{icon:z.faEllipsis,visible:!0,items:[{text:es("tooltipDeleteThreads"),icon:T.$,onClick:()=>x(!0)}]},{icon:_.r8,onClick:et,visible:!p}]})]}),"threads"===s?(0,i.jsx)(er,{}):null,"articles"===s?(0,i.jsx)(el,{}):null]}),(0,i.jsxs)("div",{className:"col-span-4 md:mt-lg",children:[(0,i.jsx)("div",{className:"hidden md:block",style:L?{marginTop:eN}:void 0,children:(0,i.jsx)(H.Z,{isMobileStyle:p,icon:L?null:S.wx,title:ei("collections"),variant:"section",testId:"col-header-collection-create",actionList:[{icon:_.r8,onClick:ev,visible:!p&&!L,testId:"col-header-collection-create"}]})}),p&&"collections"===s||!p?(0,i.jsxs)("div",{className:"my-md space-y-sm",children:[null==A?void 0:A.map(e=>(0,i.jsx)("div",{children:(0,i.jsx)(ee.Z,{collection:e,acceptInvite:t=>{em({collection:e})},declineInvite:t=>{ef({collection:e})}})},e.uuid)),(null==O?void 0:O.length)===0&&(0,i.jsxs)(j.ZP,{variant:"offset",className:"rounded-md p-md text-center",children:[(0,i.jsx)(y.Z,{color:"light",className:"mb-sm",children:es("emptyStateMessage")}),(0,i.jsx)(ed.Z,{testId:"col-create-new-collection",size:"small",text:es("getStarted"),variant:"primary",fullWidth:!0,onClick:ev})]}),(Array.isArray(O)?O:[]).map(e=>(0,i.jsx)(C,{testId:"collection-preview",collection:e},e.uuid))]}):(0,i.jsx)(i.Fragment,{})]})]}),(0,i.jsx)(eu.Z,{isOpen:m,onClose:()=>x(!1),message:es("deleteAllThreadsModalTitle"),actionList:[{text:ei("nevermind"),onClick:()=>x(!1)},{text:ei("confirm"),variant:"rejected",onClick:ep}]})]})},ev=!0,ep=()=>{let e=(0,X.lG)(),{openModal:t}=(0,J.X)(),[s,a]=(0,n.useState)(!1),r=(0,l.useTranslations)("library");return(0,n.useEffect)(()=>{s||e||(a(!0),t("loginModal",{pitchMessage:{title:r("loginPrompt",{threads:"Threads"})},origin:N.FM.LIBRARY_PAGE}))},[e,t,s,r]),(0,i.jsx)(ef,{})}},5768:function(e,t,s){"use strict";var i=s(97458),n=s(64194),l=s(51865),a=s.n(l),r=s(52983),c=s(3011),o=s(28023),d=s(72157),u=s(43119),m=s(56425);t.Z=e=>{let{title:t,icon:s,subtitle:l,actionList:x,search:h,variant:f="page",noBorder:v=!1,center:p="md",background:g="background",testId:j,isMobileStyle:b}=e,y=x&&x.length>0&&(0,i.jsx)("div",{className:"gap-x-sm flex",children:null==x?void 0:x.map((e,t)=>{var s,n;return e.visible?e.items&&e.items.length>0?(0,i.jsx)(u.G,{isMobileStyle:b,items:e.items,children:(0,i.jsx)(d.Z,{testId:j,size:m.$u.small,text:e.text,variant:e.variant,icon:e.icon,onClick:e.onClick,debounce:e.debounce})},null!==(s=e.text)&&void 0!==s?s:t):(0,i.jsx)("div",{className:"relative flex h-full items-center",children:(0,i.jsx)(d.Z,{testId:j,size:m.$u.small,text:e.text,variant:e.variant,icon:e.icon,onClick:e.onClick,toolTip:e.tooltip,tooltipLayout:"bottom",disabled:e.disabled,debounce:e.debounce})},null!==(n=e.text)&&void 0!==n?n:t):(0,i.jsx)(r.Fragment,{},t)})}),N=(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"gap-x-sm flex items-center ",children:[s&&(0,i.jsx)(o.Z,{variant:"page"===f?"page-title":"section-title",children:(0,i.jsx)(n.G,{fixedWidth:!0,icon:s})}),(0,i.jsx)(o.Z,{variant:"page"===f?"page-title":"section-title",children:t})]}),l&&(0,i.jsx)(o.Z,{variant:"page"===f?"base":"small",color:"light",className:"mt-sm",children:l})]});return(0,i.jsx)(c.ZP,{variant:g,className:a()({"sticky  top-0  z-[5] rounded-t-xl":"page"==f,"border-b":!v}),children:(0,i.jsx)(c.ZP,{className:a()({"pt-md md:pt-lg ":"page"==f,"px-sm md:px-lg mx-auto max-w-screen-md ":"page"==f&&"md"===p,"max-w-threadWidth px-md  md:px-lg mx-auto ":"page"==f&&"lg"===p}),children:(0,i.jsxs)(c.ZP,{variant:g,className:a()("gap-md flex flex-col md:flex-row md:items-center md:justify-between ",{"pb-md md:pb-lg":"page"===f,"h-14":!h&&"section"===f}),children:[(0,i.jsxs)("div",{className:"md:hidden",children:[(0,i.jsxs)("div",{className:"gap-sm flex justify-between ",children:[N,y]}),h&&(0,i.jsx)("div",{className:"mt-md w-full max-w-md",children:h})]}),(0,i.jsxs)("div",{className:"gap-sm hidden grow items-center justify-between md:flex",children:[N,(0,i.jsxs)("div",{className:"gap-sm flex grow items-center justify-end",children:[y,h&&(0,i.jsx)("div",{className:"max-w-md grow",children:h})]})]})]})})})}},59842:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(52983),n=s(62050),l=s.n(n);function a(e){var t;let{debounce:s,scroll:n,polyfill:a,offsetSize:r}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,o=a||("undefined"==typeof window?class{}:window.ResizeObserver);if(!o)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[d,u]=(0,i.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),m=(0,i.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:d}),x=s?"number"==typeof s?s:s.scroll:null,h=s?"number"==typeof s?s:s.resize:null,f=(0,i.useRef)(!1);(0,i.useEffect)(()=>(f.current=!0,()=>void(f.current=!1)));let[v,p,g]=(0,i.useMemo)(()=>{let e=()=>{if(!m.current.element)return;let{left:e,top:t,width:s,height:i,bottom:n,right:l,x:a,y:o}=m.current.element.getBoundingClientRect(),d={left:e,top:t,width:s,height:i,bottom:n,right:l,x:a,y:o};m.current.element instanceof HTMLElement&&r&&(d.height=m.current.element.offsetHeight,d.width=m.current.element.offsetWidth),Object.freeze(d),f.current&&!c(m.current.lastBounds,d)&&u(m.current.lastBounds=d)};return[e,h?l()(e,h):e,x?l()(e,x):e]},[u,r,x,h]);function j(){m.current.scrollContainers&&(m.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",g,!0)),m.current.scrollContainers=null),m.current.resizeObserver&&(m.current.resizeObserver.disconnect(),m.current.resizeObserver=null)}function b(){m.current.element&&(m.current.resizeObserver=new o(g),m.current.resizeObserver.observe(m.current.element),n&&m.current.scrollContainers&&m.current.scrollContainers.forEach(e=>e.addEventListener("scroll",g,{capture:!0,passive:!0})))}return t=!!n,(0,i.useEffect)(()=>{if(t)return window.addEventListener("scroll",g,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",g,!0)},[g,t]),(0,i.useEffect)(()=>(window.addEventListener("resize",p),()=>void window.removeEventListener("resize",p)),[p]),(0,i.useEffect)(()=>{j(),b()},[n,g,p]),(0,i.useEffect)(()=>j,[]),[e=>{e&&e!==m.current.element&&(j(),m.current.element=e,m.current.scrollContainers=function e(t){let s=[];if(!t||t===document.body)return s;let{overflow:i,overflowX:n,overflowY:l}=window.getComputedStyle(t);return[i,n,l].some(e=>"auto"===e||"scroll"===e)&&s.push(t),[...s,...e(t.parentElement)]}(e),b())},d,v]}let r=["x","y","top","bottom","left","right","width","height"],c=(e,t)=>r.every(s=>e[s]===t[s])}},function(e){e.O(0,[1987,9914,5304,4357,2888,9774,179],function(){return e(e.s=5171)}),_N_E=e.O()}]);